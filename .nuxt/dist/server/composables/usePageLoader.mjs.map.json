{"file":"usePageLoader.mjs","mappings":";AAGgB,SAAA,cAAc,QAAQ,KAAK;AACnC,QAAA,UAAU,IAAI,IAAI;AA0BxB,SAAO,EAAE,QAAQ;AACnB;","names":[],"sources":["../../../../composables/usePageLoader.js"],"sourcesContent":["// composables/usePageLoader.js\r\nimport { ref, onMounted, nextTick } from 'vue'\r\n\r\nexport function usePageLoader(delay = 300) {\r\n  const loading = ref(true)\r\n\r\n  async function waitForAllImages() {\r\n    const images = Array.from(document.images)\r\n    const unloaded = images.filter(img => !img.complete)\r\n\r\n    if (!unloaded.length) return Promise.resolve()\r\n\r\n    return Promise.all(\r\n      unloaded.map(\r\n        img =>\r\n          new Promise(resolve => {\r\n            img.onload = img.onerror = resolve\r\n          })\r\n      )\r\n    )\r\n  }\r\n\r\n  onMounted(async () => {\r\n    await nextTick()\r\n    await waitForAllImages()\r\n    setTimeout(() => {\r\n      loading.value = false\r\n    }, delay)\r\n  })\r\n\r\n  return { loading }\r\n}\r\n"],"version":3}